<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Employee Registration</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
	<style>
	    /* Custom navbar styling */
	    .custom-navbar {
	        background-color: brown !important;
	        border-color: brown !important;
	    }
	    .custom-navbar .navbar-brand,
	    .custom-navbar .nav > li > a {
	        color: white !important;
	    }
	    .custom-navbar .navbar-brand:hover {
	        color: white !important;
	        background-color: transparent !important;
	    }
	    .custom-navbar .nav > li > a:hover {
	        background-color: #61080c!important; /* darker brown on hover */
	        color: white !important;
	    }
	</style>
</head>
<body>

	<!-- ðŸ”¹ Navbar -->
	<nav class="navbar navbar-inverse custom-navbar">
	    <div class="container-fluid d-flex justify-content-between align-items-center">

	        <!-- App Name -->
	        <a class="navbar-brand no-hover">EmployeeApp</a>

	        <!-- Menu Buttons -->
	        <ul class="nav navbar-nav navbar-right d-flex">
	            <li><a th:href="@{/employee}"><span class="glyphicon glyphicon-home"></span> Home</a></li>
	            <li><a th:href="@{/login}"><span class="glyphicon glyphicon-user"></span> Login</a></li>
	            <li><a th:href="@{/logout}"><span class="glyphicon glyphicon-log-out"></span> Logout</a></li>
	        </ul>
	    </div>
	</nav>

    <!-- ðŸ”¹ Form Section -->
    <div class="container">
        <form th:action="@{/employeereg}" th:object="${employee}" method="post" id="loginform">
            <div class="row">
                <div class="col-md-3"></div>
                
                <div class="col-md-6">
                    <h1 style="color: chocolate;">Employee Registration</h1>
                    <hr>

                    <!-- Firstname -->
                    <div class="form-group">
                        <label>FirstName</label>
                        <input type="text" th:field="*{firstName}" class="form-control" placeholder="firstname" required>
						<span class="error" id="nameError" style="color: red;" th:if="${#fields.hasErrors('firstName')}" th:errors="*{firstName}"></span>
                    </div>

                    <!-- Lastname -->
                    <div class="form-group">
                        <label>LastName</label>
                        <input type="text" th:field="*{lastName}" class="form-control" placeholder="lastname">
						
                    </div>

                    <!-- Email -->
					<!-- Email -->
					<div class="form-group">
					    <label>Email</label>
					    <input type="email" th:field="*{email}" class="form-control" placeholder="email">
					    <!-- backend validation error -->
					    <span class="error" id="emailError" style="color: red;" th:if="${#fields.hasErrors('email')}" th:errors="*{email}"></span>
					</div>

					<!-- Password -->
					<div class="form-group">
					    <label>Password</label>
					    <input type="password" th:field="*{password}" class="form-control" placeholder="password">
					    <span class="error" id="passwordError" style="color: red;" th:if="${#fields.hasErrors('password')}" th:errors="*{password}"></span>
					</div>

					<!-- Gender -->
					<div class="form-group">
					    <label>Gender</label>
					    <input type="radio" th:field="*{gender}" value="Male"/> Male
					    <input type="radio" th:field="*{gender}" value="Female"/> Female
					    <span class="error" id="genderError" style="color: red;" th:if="${#fields.hasErrors('gender')}" th:errors="*{gender}"></span>
					</div>

                    <!-- Submit -->
                    <div class="form-group">
                        <button type="submit" class="btn btn-success">Submit</button>
                    </div>
                </div>

                <div class="col-md-3"></div>
            </div>
        </form>
    </div>

    <!-- ðŸ”¹ JS Validation -->
    <script>
        document.getElementById("loginform").addEventListener("submit", function(event){
            let isValid = true;

			const nameInput = document.getElementById("firstName");
			const genderInputs = document.querySelectorAll("input[name='gender']");
            const emailInput = document.getElementById("email");
            const passwordInput = document.getElementById("password");

			
			const nameError = document.getElementById("nameError");
			const genderError = document.getElementById("genderError");
            const emailError = document.getElementById("emailError");
            const passwordError = document.getElementById("passwordError");
			

			nameError.innerText = "";
			genderError.innerText = "";
            emailError.innerText = "";
            passwordError.innerText = "";

			const emailPattern = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.(com|in|org|net)$/i;

			if(nameInput.value.trim() === ""){
				nameError.innerHTML = "FirstName is required";
				isValid = false;
			}
			
			let genderSelected = false;
			   genderInputs.forEach(radio => {
			       if(radio.checked) genderSelected = true;
			   });
			   if(!genderSelected){
			       genderError.innerText = "Choose one gender";
			       isValid = false;
			   }
			
			   if(emailInput.value.trim() === ""){
			       emailError.innerHTML = "Email is required";
			       isValid = false;
			   }else if(!emailPattern.test(emailInput.value.trim())){
			       emailError.innerHTML = "Email must end with .com, .in, .org, or .net";
			       isValid = false;
			   }

            if(passwordInput.value.length < 6){
                passwordError.innerHTML = "Password must be at least 6 characters";
                isValid = false;
            }

            if(!isValid){
                event.preventDefault();
            }
        });
    </script>

</body>
</html>
